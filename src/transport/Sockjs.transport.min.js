var Eureca;(function(n){(function(t){(function(t){var i=function(){function t(n){this.socket=n,this.id=n.id,this.remoteAddress=n.address?n.address.address:undefined}return t.prototype.send=function(n){this.socket.send?this.socket.send(n):this.socket.write(n)},t.prototype.close=function(){this.socket.close()},t.prototype.onopen=function(t){if(n.Util.isNodejs)this.socket.on("connection",function(n){t(n)});else this.socket.onopen=function(n){t(n)}},t.prototype.onmessage=function(t){if(n.Util.isNodejs)this.socket.on("data",function(n){t(n)});else this.socket.onmessage=function(n){t(n.data)}},t.prototype.onclose=function(t){if(n.Util.isNodejs)this.socket.on("close",function(n){t(n)});else this.socket.onclose=function(n){t(n)}},t.prototype.onerror=function(t){if(n.Util.isNodejs)this.socket.on("error",function(n){t(n)});else this.socket.onerror=function(n){t(n)}},t.prototype.ondisconnect=function(n){this.socket.onclose=n},t}(),r,u,f;t.Socket=i,r=function(){function n(n){this.sockjsServer=n}return n.prototype.onconnect=function(n){this.sockjsServer.on("connection",function(t){var r=new i(t);n(r)})},n}(),t.Server=r,u=function(n,t){var i,f,e,u;if(typeof t=="undefined"&&(t={}),i={},i.prefix=t.prefix?"/"+t.prefix:undefined,f=/^[\d]+$/.test(n),f)throw Error("Error - eureca.listen(port) is not implemented on sockjs transport");return e=require("sockjs"),u=e.createServer(),u.installHandlers(n,i),new r(u)},f=function(t,r){var u,f;return typeof r=="undefined"&&(r={}),u={},u.prefix=r.prefix?r.prefix:undefined,f=n.Util.isNodejs?require("sockjs-client").create(t+u.prefix):new SockJS(t),new i(f)},n.Transport.register("sockjs","/js/sockjs-0.3.min.js",f,u)})(t.Sockjs||(t.Sockjs={}));var i=t.Sockjs})(n.Transports||(n.Transports={}));var t=n.Transports})(Eureca||(Eureca={}))